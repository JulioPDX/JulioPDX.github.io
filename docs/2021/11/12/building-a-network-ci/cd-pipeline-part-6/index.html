<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Introduction Hello all and thank you for tuning in to the last part of the network CI/CD series. It really means a lot and I hope you have learned a bit along the way. In this post we will focus on testing after a change is made, more specifically, we will be looking at Suzieq. If you stick around until the end, we will look at maintaining a “golden state” of configuration using cron and a message from Rocky." />
<meta name="keywords" content=", CI/CD, Suzieq, Network Automation, Python" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://juliopdx.github.io/2021/11/12/building-a-network-ci/cd-pipeline-part-6/" />


    <title>
        
            Building a Network CI/CD Pipeline Part 6 :: JulioPDX  — Welcome to my blog!
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.17863a81d979b637a02cd7632a4d86e9d80563ef460fd6af1a56962efcaa066b.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">
    <meta name="theme-color" content="">



<meta itemprop="name" content="Building a Network CI/CD Pipeline Part 6">
<meta itemprop="description" content="Introduction Hello all and thank you for tuning in to the last part of the network CI/CD series. It really means a lot and I hope you have learned a bit along the way. In this post we will focus on testing after a change is made, more specifically, we will be looking at Suzieq. If you stick around until the end, we will look at maintaining a “golden state” of configuration using cron and a message from Rocky.">
<meta itemprop="datePublished" content="2021-11-12T12:26:21-08:00" />
<meta itemprop="dateModified" content="2021-11-12T12:26:21-08:00" />
<meta itemprop="wordCount" content="2468">
<meta itemprop="image" content="https://juliopdx.github.io/"/>



<meta itemprop="keywords" content="CI/CD,Suzieq,Network Automation,Python," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://juliopdx.github.io/"/>

<meta name="twitter:title" content="Building a Network CI/CD Pipeline Part 6"/>
<meta name="twitter:description" content="Introduction Hello all and thank you for tuning in to the last part of the network CI/CD series. It really means a lot and I hope you have learned a bit along the way. In this post we will focus on testing after a change is made, more specifically, we will be looking at Suzieq. If you stick around until the end, we will look at maintaining a “golden state” of configuration using cron and a message from Rocky."/>




    <meta property="og:title" content="Building a Network CI/CD Pipeline Part 6" />
<meta property="og:description" content="Introduction Hello all and thank you for tuning in to the last part of the network CI/CD series. It really means a lot and I hope you have learned a bit along the way. In this post we will focus on testing after a change is made, more specifically, we will be looking at Suzieq. If you stick around until the end, we will look at maintaining a “golden state” of configuration using cron and a message from Rocky." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://juliopdx.github.io/2021/11/12/building-a-network-ci/cd-pipeline-part-6/" />
<meta property="og:image" content="https://juliopdx.github.io/"/>
<meta property="article:published_time" content="2021-11-12T12:26:21-08:00" />
<meta property="article:modified_time" content="2021-11-12T12:26:21-08:00" /><meta property="og:site_name" content="JulioPDX" />






    <meta property="article:published_time" content="2021-11-12 12:26:21 -0800 PST" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">JulioPDX</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        12 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://juliopdx.github.io/2021/11/12/building-a-network-ci/cd-pipeline-part-6/">Building a Network CI/CD Pipeline Part 6</a>
      </h1>

      

      
        <hr />
        <aside id="toc">
          <div class="toc-title">Table of Contents</div>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#what-is-suzieq">What is Suzieq?</a></li>
    <li><a href="#batfish-and-suzieq">Batfish and Suzieq</a></li>
    <li><a href="#getting-suzieq-up-and-running">Getting Suzieq Up and Running</a>
      <ul>
        <li><a href="#building-the-inventory-file">Building the Inventory File</a></li>
        <li><a href="#installing-the-docker-containerpoller">Installing the Docker Container/Poller</a></li>
        <li><a href="#side-note-the-suzieq-cli">Side Note, The Suzieq CLI</a></li>
        <li><a href="#directory-permissions">Directory Permissions</a></li>
      </ul>
    </li>
    <li><a href="#the-challenge-getting-the-data-to-the-pipeline-runner">The Challenge: Getting the Data to the Pipeline Runner</a>
      <ul>
        <li><a href="#droneyml-updates">.drone.yml Updates</a></li>
      </ul>
    </li>
    <li><a href="#suzieq-and-python">Suzieq and Python</a>
      <ul>
        <li><a href="#suzieq-python-examples">Suzieq Python Examples</a></li>
      </ul>
    </li>
    <li><a href="#suzieq-pipeline-run">Suzieq Pipeline Run</a></li>
    <li><a href="#bonus-maintain-state-with-cron">BONUS! Maintain State With Cron</a></li>
    <li><a href="#be-like-rocky">Be Like Rocky</a></li>
    <li><a href="#outro-and-links">Outro and Links</a></li>
  </ul>
</nav>
        </aside>
        <hr />

      

      <div class="post-content">
        <p><img src="/blog/images/frederick-marschall.jpg" alt="Featured Image"></p>
<h2 id="introduction">Introduction</h2>
<p>Hello all and thank you for tuning in to the last part of the network CI/CD series. It really means a lot and I hope you have learned a bit along the way. In this post we will focus on testing after a change is made, more specifically, we will be looking at Suzieq. If you stick around until the end, we will look at maintaining a “golden state” of configuration using cron and a message from Rocky.</p>
<p><img src="/blog/images/ci_cd_blog.png" alt="High Level Design"></p>
<h2 id="what-is-suzieq">What is Suzieq?</h2>
<p>Suzieq allows operators and network engineers the ability to gather data about their network using an agentless model. This data is then stored in a data format known as Parquet. Once this multi-vendor data is normalized, we can begin to ask the network a numerous amount of questions. This could be things from MTU mismatches, OSPF neighbor relationship state, and many more.</p>
<h2 id="batfish-and-suzieq">Batfish and Suzieq</h2>
<p>At this point you may be wondering if this is similar to Batfish. Batfish uses a “snapshot” of the network or a view of a change we are proposing to the network. Batfish will then build a model around this snapshot to infer if any issues are present with the configuration. There are no actual connections performed to network devices using Batfish. Suzieq on the other hand uses a Poller to continuously connect to our devices and gather network state. This data can then be used to run checks or see how our network is configured and performing. I think Batfish lends itself really well to performing precheck validation. Suzieq can perform precheck validation but for this example we will focus on post change testing. I will link a great write up by the maintainers of these respective tools at the end of this blog.</p>
<h2 id="getting-suzieq-up-and-running">Getting Suzieq Up and Running</h2>
<p>We wont stray far from actions that have been performed on previous posts… that’s right, more docker! Using the docker instance of Suzieq really provides the fastest way to get going. I’ll start at the root of our Ubuntu server that is running our docker containers.</p>
<p><code>Docker Container</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">juliopdx@drone:~$ docker ps
CONTAINER ID   IMAGE                         COMMAND                  NAMES
e5d807183f32   drone/drone-runner-docker:1   <span style="color:#e6db74">&#34;/bin/drone-runner-d…&#34;</span>   runner
89b442422f25   drone/drone:2                 <span style="color:#e6db74">&#34;/bin/drone-server&#34;</span>      drone
2df0b3ee02fb   batfish/batfish               <span style="color:#e6db74">&#34;java -XX:-UseCompre…&#34;</span>   batfish
juliopdx@drone:~$
</code></pre></div><h3 id="building-the-inventory-file">Building the Inventory File</h3>
<p>At the moment Suzieq supports a built in yaml format as well as using a standard yaml Ansible inventory. For this scenario I kept things simple and used the built in format. Please note, there is word from the developers to add more dynamic inventory plugins, using Netbox for example. Below is the inventory I created for this deployment, more examples can be found in the Suzieq documentation.</p>
<p><code>inv.yaml</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">eos</span>
  <span style="color:#f92672">hosts</span>:
    - <span style="color:#f92672">url</span>: <span style="color:#ae81ff">ssh://192.168.10.121 username=suzie password=suzie</span>
    - <span style="color:#f92672">url</span>: <span style="color:#ae81ff">ssh://192.168.10.122 username=suzie password=suzie</span>
    - <span style="color:#f92672">url</span>: <span style="color:#ae81ff">ssh://192.168.10.123 username=suzie password=suzie</span>
    - <span style="color:#f92672">url</span>: <span style="color:#ae81ff">ssh://192.168.10.124 username=suzie password=suzie</span>
</code></pre></div><h3 id="installing-the-docker-containerpoller">Installing the Docker Container/Poller</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -d --restart always -itd <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-v /home/juliopdx/suz/parquet-out:/suzieq/parquet <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-v /home/juliopdx/inv.yaml:/suzieq/inv.yaml <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>--name sq-poller netenglabs/suzieq:latest
</code></pre></div><p>The command above is doing a few things. It will create a link to a local “/suz/parquet-out” directory and copy the “inv.yaml” file we created over to the docker container.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">juliopdx@drone:~$ docker ps
CONTAINER ID   IMAGE                         COMMAND                  NAMES
a091d6fe3b07   netenglabs/suzieq:latest      <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              sq-poller
e5d807183f32   drone/drone-runner-docker:1   <span style="color:#e6db74">&#34;/bin/drone-runner-d…&#34;</span>   runner
89b442422f25   drone/drone:2                 <span style="color:#e6db74">&#34;/bin/drone-server&#34;</span>      drone
2df0b3ee02fb   batfish/batfish               <span style="color:#e6db74">&#34;java -XX:-UseCompre…&#34;</span>   batfish
juliopdx@drone:~$
</code></pre></div><p>Now we will attach to the container and get the service running. To disconnect from the Poller and leave the service running, type “CTRL + p, CTRL + q”</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">juliopdx@drone:~$ docker attach sq-poller
root@a091d6fe3b07:/suzieq# sq-poller -D inv.yaml -k
</code></pre></div><h3 id="side-note-the-suzieq-cli">Side Note, The Suzieq CLI</h3>
<p>In my case I will be interacting with Suzieq using their Python library and the Poller, but you can interact with Suzieq using a CLI or GUI as well. For the moment, the Poller has most likely gathered some data about our network. Lets stop the Poller(CTRL + c) and connect to the CLI!</p>
<p><img src="/blog/images/suziecli.png" alt="Suzie CLI"></p>
<p>From the CLI we can quickly explore a ton of information about our network and run some asserts to see if our routing protocols are working as expected. As an example below are some working routing neighbor relationships and an example when one is down(I added a duplicate router ID).</p>
<p><code>Assert Pass</code></p>
<p><img src="/blog/images/routing-assert.png" alt="Assert Pass"></p>
<p><code>Assert Fail</code></p>
<p><img src="/blog/images/routingassertfailed.png" alt="Assert Fail"></p>
<p>I think you get the idea. The Suzieq CLI is a quick way to explore not only the capabilities of Suzieq but also your network. At this point lets exit the CLI, restart the Poller, and exit from the container(CTRL + p, CTRL + q).</p>
<p><img src="/blog/images/exitpoller.png" alt="Exit Poller"></p>
<h3 id="directory-permissions">Directory Permissions</h3>
<p>You may not run into this but in my case I ran into an issue where I had to give more permissions to the directory on my host machine running the containers.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo chmod -R a+rwx suz/
</code></pre></div><h2 id="the-challenge-getting-the-data-to-the-pipeline-runner">The Challenge: Getting the Data to the Pipeline Runner</h2>
<p>The Poller collects a wide range of data from our network devices, to get an idea of what is being collected, check out the tree breakdown below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">juliopdx@drone:~$ tree -d -L <span style="color:#ae81ff">3</span> suz
suz
└── parquet-out
    ├── arpnd
    │   └── sqvers<span style="color:#f92672">=</span>1.0
    ├── bgp
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    ├── coalesced
    │   ├── arpnd
    │   ├── bgp
    │   ├── devconfig
    │   ├── device
    │   ├── ifCounters
    │   ├── interfaces
    │   ├── lldp
    │   ├── ospfIf
    │   ├── ospfNbr
    │   ├── routes
    │   ├── sqCoalescer
    │   ├── sqPoller
    │   ├── time
    │   └── vlan
    ├── devconfig
    │   └── sqvers<span style="color:#f92672">=</span>1.0
    ├── device
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    ├── ifCounters
    │   └── sqvers<span style="color:#f92672">=</span>1.0
    ├── interfaces
    │   └── sqvers<span style="color:#f92672">=</span>3.0
    ├── lldp
    │   └── sqvers<span style="color:#f92672">=</span>1.0
    ├── ospfIf
    │   └── sqvers<span style="color:#f92672">=</span>1.0
    ├── ospfNbr
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    ├── routes
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    ├── sqPoller
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    ├── time
    │   └── sqvers<span style="color:#f92672">=</span>2.0
    └── vlan
        └── sqvers<span style="color:#f92672">=</span>2.0

<span style="color:#ae81ff">42</span> directories
juliopdx@drone:~$
</code></pre></div><p>Here is where things got interesting. In our pipeline, every run stands up a fresh docker container to execute our steps. How can we expose this data to the container to run our Python test scripts against? With a bit of research I came to find this <a href="https://discourse.drone.io/t/how-to-mount-a-device/3536">golden nugget</a>. So it is possible! But there’s another caveat, it must be from trusted repositories. This led me to recreating the drone server and runners, but this time giving my GitHub user account admin privileges. I have updated the previous blog to reflect this change. Below is the same example in the previous blog post.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --volume<span style="color:#f92672">=</span>/var/lib/drone:/data <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_GITHUB_CLIENT_ID<span style="color:#f92672">=</span>your-id <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_GITHUB_CLIENT_SECRET<span style="color:#f92672">=</span>super-duper-secret <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_RPC_SECRET<span style="color:#f92672">=</span>super-duper-secret <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_SERVER_HOST<span style="color:#f92672">=</span>drone.company.com <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_SERVER_PROTO<span style="color:#f92672">=</span>http <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --env<span style="color:#f92672">=</span>DRONE_USER_CREATE<span style="color:#f92672">=</span>username:<span style="color:#f92672">{{</span>GitHub-Username<span style="color:#f92672">}}</span>,admin:true <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --publish<span style="color:#f92672">=</span>80:80 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --publish<span style="color:#f92672">=</span>443:443 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --detach<span style="color:#f92672">=</span>true <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --name<span style="color:#f92672">=</span>drone <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  drone/drone:2
</code></pre></div><p>After that was done it was just a matter of flipping a flag under the repository settings.</p>
<p><img src="/blog/images/trusted-repo.png" alt="Trusted Repo"></p>
<h3 id="droneyml-updates">.drone.yml Updates</h3>
<p>Now that everything is set correctly, we have to update our pipeline file to include the Suzieq steps and mount the host directory to the runner. Below is an example. Lines 14-17 are naming a volume and then giving it a path that is on our Ubuntu host. Lines 10-12 attach that volume to the runner at a specified path.</p>
<p><code>.drone.yml</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Suzieq Check</span>
  <span style="color:#f92672">image</span>: <span style="color:#ae81ff">python:3.8</span>
  <span style="color:#f92672">commands</span>:
  - <span style="color:#ae81ff">pip install suzieq rich</span>
  - <span style="color:#ae81ff">python test_suzieq.py</span>
  <span style="color:#f92672">when</span>:
    <span style="color:#f92672">branch</span>:
    - <span style="color:#ae81ff">master</span>
    - <span style="color:#ae81ff">main</span>
  <span style="color:#f92672">volumes</span>:
  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">suzieq</span>
    <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/tmp/suz</span>

<span style="color:#f92672">volumes</span>:
- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">suzieq</span>
  <span style="color:#f92672">host</span>:
    <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/home/juliopdx/suz</span>
</code></pre></div><h2 id="suzieq-and-python">Suzieq and Python</h2>
<p>The final piece was actually getting a Python script to interact with the mounted data. If you are using Python, Suzieq will look at either <code>./suzieq-cfg.yml</code> or <code>~/.suzieq/suzieq-cfg.yml</code> for a configuration file. There is a lot that can be modified here but the most important I think is where the parquet data is stored. Below is my configuration file for reference.</p>
<p><code>suzieq-cfg.yml</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">data-directory</span>: <span style="color:#ae81ff">/tmp/suz/parquet-out</span>
<span style="color:#f92672">temp-directory</span>: <span style="color:#ae81ff">/tmp/suzieq</span>
<span style="color:#f92672">logging-level</span>: <span style="color:#ae81ff">WARNING</span>

<span style="color:#f92672">analyzer</span>:
  <span style="color:#75715e"># By default, the timezone is set to the local timezone. Uncomment</span>
  <span style="color:#75715e"># this line if you want the analyzer (CLI/GUI/REST) to display the time</span>
  <span style="color:#75715e"># in a different timezone than the local time. The timestamp stored in</span>
  <span style="color:#75715e"># the database is always in UTC.</span>
  <span style="color:#f92672">timezone</span>: <span style="color:#ae81ff">America/Los_Angeles</span>
</code></pre></div><h3 id="suzieq-python-examples">Suzieq Python Examples</h3>
<p>Lets start with a few examples in the Python interpreter.</p>
<p><code>Import required libraries</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">(</span>suzie-venv<span style="color:#f92672">)</span> juliopdx@drone:~$ python
Python 3.8.10 <span style="color:#f92672">(</span>default, Sep <span style="color:#ae81ff">28</span> 2021, 16:10:42<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>GCC 9.3.0<span style="color:#f92672">]</span> on linux
Type <span style="color:#e6db74">&#34;help&#34;</span>, <span style="color:#e6db74">&#34;copyright&#34;</span>, <span style="color:#e6db74">&#34;credits&#34;</span> or <span style="color:#e6db74">&#34;license&#34;</span> <span style="color:#66d9ef">for</span> more information.
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; from suzieq.sqobjects import get_sqobject
</code></pre></div><p>Next we will get a sqobject from the data that has been gathered from the Poller. In this case we are grabbing the latest interfaces data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> int_tbl <span style="color:#f92672">=</span> get_sqobject(<span style="color:#e6db74">&#34;interfaces&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> int_tbl()<span style="color:#f92672">.</span>get() <span style="color:#75715e">#data omitted for brevity</span>
   namespace        hostname       ifname state adminState      type    mtu
<span style="color:#ae81ff">0</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>         MGMT    up         up       vrf   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">1</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet5    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">2</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet4    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">3</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet7    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">4</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet6    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">5</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet3    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">6</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet8    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">7</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  Management1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">8</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">9</span>        eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    Ethernet2    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">10</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet6    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">11</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>         MGMT    up         up       vrf   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">12</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet5    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">13</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet4    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">14</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet7    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">15</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">16</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet2    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">17</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Loopback1    up         up  loopback  <span style="color:#ae81ff">65535</span>
<span style="color:#ae81ff">18</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet8    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">19</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  Management1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">20</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    Ethernet3    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">21</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>         MGMT    up         up       vrf   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">22</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet5    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">23</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet7    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">24</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet6    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">25</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet4    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">26</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet3    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">27</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet2    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">28</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet8    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">29</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  Management1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">30</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    Ethernet1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">31</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet5    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">32</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  Management1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">33</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet8    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">34</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Loopback1    up         up  loopback  <span style="color:#ae81ff">65535</span>
<span style="color:#ae81ff">35</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet2    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">36</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet3    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">37</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet1    up         up  ethernet   <span style="color:#ae81ff">1500</span>
<span style="color:#ae81ff">38</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet6    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">39</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet7    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">40</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    Ethernet4    up         up  ethernet   <span style="color:#ae81ff">9214</span>
<span style="color:#ae81ff">41</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>         MGMT    up         up       vrf   <span style="color:#ae81ff">1500</span>
<span style="color:#f92672">&gt;&gt;&gt;</span>
</code></pre></div><p>You can also filter on data when making these calls. Maybe we only care about certain interfaces from a particular host?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> int_tbl()<span style="color:#f92672">.</span>get(hostname<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;pdx-rtr-eos-01&#34;</span>], ifname<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;Ethernet1&#34;</span>, <span style="color:#e6db74">&#34;Ethernet2&#34;</span>])
  namespace        hostname     ifname state adminState      type   mtu  ipAddressList
<span style="color:#ae81ff">0</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  Ethernet2    up         up  ethernet  <span style="color:#ae81ff">1500</span>  [<span style="color:#ae81ff">192.168</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">24</span>]
<span style="color:#ae81ff">1</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  Ethernet1    up         up  ethernet  <span style="color:#ae81ff">1500</span>  [<span style="color:#ae81ff">10.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">12.1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">24</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span>
</code></pre></div><p>Maybe we want to see what device owns a particular route?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> routes_tbl <span style="color:#f92672">=</span> get_sqobject(<span style="color:#e6db74">&#34;routes&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> routes_tbl()<span style="color:#f92672">.</span>get(prefix<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;10.0.0.1&#34;</span>], protocol<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;connected&#34;</span>)
  namespace        hostname      vrf       prefix nexthopIps         oifs   protocol
<span style="color:#ae81ff">0</span>       eos  pdx<span style="color:#f92672">-</span>rtr<span style="color:#f92672">-</span>eos<span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  default  <span style="color:#ae81ff">10.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0.1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">32</span>         []  [Loopback1]  connected
<span style="color:#f92672">&gt;&gt;&gt;</span>
</code></pre></div><p>What I’ve shown you above and what is included in the pipeline post check is just a small subset of what Suzieq can do. Below is a very basic script that will pull data from the parquet directory, depending on a pass or fail, different messages will be printed. If any failures are seen, a counter will run and exit the program with a code of 1. This will signal the pipeline to register the run as a failure. I’ll include a few snapshots of running this in the terminal, the rich library makes even the failures look pretty.</p>
<p><code>test_suzie.py</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> sys
<span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">from</span> suzieq.sqobjects <span style="color:#f92672">import</span> get_sqobject
<span style="color:#f92672">from</span> rich <span style="color:#f92672">import</span> <span style="color:#66d9ef">print</span>


<span style="color:#75715e"># OSPF Testing</span>
ospf_tbl <span style="color:#f92672">=</span> get_sqobject(<span style="color:#e6db74">&#34;ospf&#34;</span>)
ospf_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(ospf_tbl()<span style="color:#f92672">.</span>aver())
ospf_fail <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> index, row <span style="color:#f92672">in</span> ospf_df<span style="color:#f92672">.</span>iterrows():
    <span style="color:#66d9ef">if</span> row[<span style="color:#e6db74">&#34;assert&#34;</span>] <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;pass&#34;</span>:
        <span style="color:#66d9ef">print</span>(
            f<span style="color:#e6db74">&#34;:triangular_flag_on_post: OSPF, {row[&#39;hostname&#39;]} {row[&#39;ifname&#39;]} {row[&#39;assertReason&#39;]} :triangular_flag_on_post:&#34;</span>
        )
        ospf_fail <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

<span style="color:#75715e"># BGP testing</span>
bgp_tbl <span style="color:#f92672">=</span> get_sqobject(<span style="color:#e6db74">&#34;bgp&#34;</span>)
bgp_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(bgp_tbl()<span style="color:#f92672">.</span>get())
bgp_fail <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> index, row <span style="color:#f92672">in</span> bgp_df<span style="color:#f92672">.</span>iterrows():
    <span style="color:#66d9ef">if</span> row[<span style="color:#e6db74">&#34;state&#34;</span>] <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;Established&#34;</span>:
        <span style="color:#66d9ef">print</span>(
            f<span style="color:#e6db74">&#34;:triangular_flag_on_post: {row[&#39;hostname&#39;]}(AS {row[&#39;asn&#39;]}) to {row[&#39;peer&#39;]}(AS {row[&#39;peerAsn&#39;]}) is in {row[&#39;state&#39;]} state :triangular_flag_on_post:&#34;</span>
        )
        bgp_fail <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

<span style="color:#66d9ef">if</span> bgp_fail <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;:white_heavy_check_mark: All BGP checks passed :white_heavy_check_mark:&#34;</span>)
<span style="color:#66d9ef">if</span> ospf_fail <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;:white_heavy_check_mark: All OSPF checks passed :white_heavy_check_mark:&#34;</span>)
<span style="color:#66d9ef">if</span> bgp_fail <span style="color:#f92672">or</span> ospf_fail <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>:
    sys<span style="color:#f92672">.</span>exit(<span style="color:#ae81ff">1</span>)
</code></pre></div><p>Below is an example of me adding a duplicate router ID on pdx-rtr-eos-01.</p>
<p><img src="/blog/images/fail_suzie.png" alt="Fail Suzieq"></p>
<p>Now lets fix that issue and see if we can see the transitions on the network. OSPF neighbors should come back and BGP soon after.</p>
<p><img src="/blog/images/pass-suzie.png" alt="Pass Suzieq"></p>
<p><img src="/blog/images/suzie-bgp.png" alt="Suzie BGP"></p>
<h2 id="suzieq-pipeline-run">Suzieq Pipeline Run</h2>
<p>Below is an example pipeline run after a pull request was submitted and approved. I’ll show you the last step which is new to us in this series. To my knowledge Suzieq is only tested against Python 3.7 and 3.8. Th docker container I created is based on 3.9.7. Drone makes this fairly trivial, as I can just reference another docker image and install the two dependencies we have; Suzieq and Rich.</p>
<p><code>.drone.yml</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Suzieq Check</span>
  <span style="color:#f92672">image</span>: <span style="color:#ae81ff">python:3.8</span>
  <span style="color:#f92672">commands</span>:
  - <span style="color:#ae81ff">pip install suzieq rich</span>
  - <span style="color:#ae81ff">python test_suzieq.py</span>
</code></pre></div><p><img src="/blog/images/cicd-pass.png" alt="CI/CD Pass"></p>
<h2 id="bonus-maintain-state-with-cron">BONUS! Maintain State With Cron</h2>
<p>Rapid fire here. Lets just say we had a rogue engineer making all kinds of changes outside of the pipeline. How could we remediate this? Drone and I’m sure other CI tools have a cron feature. Essentially, we can execute pipeline runs at set intervals. Since the main branch is our “production” state. We can set up a cron job to run every day, week, or hour??? I’m going to make some random changes to all four routers and see how the pipeline corrects them. I will set the cron job to run every hour so we don&rsquo;t have to wait a day.. or a week.</p>
<p><img src="/blog/images/cron-job.png" alt="Cron Config"></p>
<p><img src="/blog/images/cron-run.png" alt="Cron Run"></p>
<p><img src="/blog/images/cron-config.png" alt="Cron Config"></p>
<p>As you can see above, all the bogus VLANs and loopbacks have been removed from the configuration.</p>
<h2 id="be-like-rocky">Be Like Rocky</h2>
<blockquote>
<p>You, me, or nobody is gonna hit as hard as life. But it ain’t how hard you hit; it’s about how hard you can get hit, and keep moving forward.</p>
</blockquote>
<p><img src="/blog/images/try-and-try-again.png" alt="Try and Try Again"></p>
<p>I love that Rocky quote. I’m highlighting my failures here to show you that you can do it. When learning something new you may be scratching your head or lost in the sauce. Keep going and when you hit that magical moment, its really really fun.</p>
<h2 id="outro-and-links">Outro and Links</h2>
<p>Thank you all for reading this far. This blog series was an absolute treat to write. I hope something along the way has sparked your interest! Please note, what I’ve shown in these posts is just a subset of what these tools can do. Feel free to explore and make it better!</p>
<ul>
<li><a href="https://github.com/JulioPDX/ci_cd_dev">GitHub Repository</a></li>
<li><a href="https://unsplash.com/photos/bL8MDg0p_nI">Featured Image by Frederick Marschall</a></li>
<li><a href="https://suzieq.readthedocs.io/en/latest/">Suzieq Documentation</a></li>
<li><a href="https://elegantnetwork.github.io/posts/closing-the-loop-testing/">Closing the Loop on Testing Network Changes by Ratul Mahajan and Dinesh Dutt</a></li>
<li><a href="https://juliopdx.com/2021/10/20/building-a-network-ci-cd-pipeline-part-1/">Building a Network CI/CD Pipeline Part 1</a></li>
<li><a href="https://juliopdx.com/2021/10/20/building-a-network-ci-cd-pipeline-part-2/">Building a Network CI/CD Pipeline Part 2</a></li>
<li><a href="https://juliopdx.com/2021/10/31/building-a-network-ci-cd-pipeline-part-3/">Building a Network Ci/CD Pipeline Part 3</a></li>
<li><a href="https://juliopdx.com/2021/11/08/building-a-network-ci-cd-pipeline-part-4/">Building a Network CI/CD Pipeline Part 4</a></li>
<li><a href="https://juliopdx.com/2021/11/12/building-a-network-ci-cd-pipeline-part-5/">Building a Network CI/CD Pipeline Part 5</a></li>
</ul>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://juliopdx.github.io/tags/ci/cd/">CI/CD</a></span>
        <span class="tag"><a href="https://juliopdx.github.io/tags/suzieq/">Suzieq</a></span>
        <span class="tag"><a href="https://juliopdx.github.io/tags/network-automation/">Network Automation</a></span>
        <span class="tag"><a href="https://juliopdx.github.io/tags/python/">Python</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        2468 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-11-12 12:26
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>

        <div class="pagination__buttons">
            

            
            <span class="button next">
                <a href="https://juliopdx.github.io/2021/11/08/building-a-network-ci/cd-pipeline-part-5/">
                    <span class="button__text">Building a Network CI/CD Pipeline Part 5</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="https://juliopdx.github.io/"></a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.ace63d93098bf623f7c286a9084a4c22bfc482944c734f87fe0b685c7c6c7fa0ad2edb028c3b4b60d3343720c8ab490b320ad7f8edf4f6e9a6b898fc529057a9.js" integrity="sha512-rOY9kwmL9iP3woapCEpMIr/EgpRMc0&#43;H/gtoXHxsf6CtLtsCjDtLYNM0NyDIq0kLMgrX&#43;O309ummuJj8UpBXqQ=="></script>



    </body>
</html>
